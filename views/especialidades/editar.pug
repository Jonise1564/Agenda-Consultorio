extends ../layout

block contenido
  .container.mt-5
    .row.justify-content-center
      .col-md-6.col-lg-5
        // Encabezado con botón de volver
        .d-flex.justify-content-between.align-items-center.mb-3
          h3.fw-bold.text-primary.mb-0
            i.fa-solid.fa-stethoscope.me-2
            | Editar Especialidad
          a.btn.btn-outline-secondary.btn-sm(href="/especialidades")
            i.bi.bi-arrow-left
            |  Volver

        // Tarjeta del Formulario
        .card.border-0.shadow-sm
          .card-body.p-4
            if errorMessage
              .alert.alert-danger.d-flex.align-items-center(role="alert")
                i.bi.bi-exclamation-triangle-fill.me-2
                div= errorMessage

            form(
              action=`/especialidades/update/${especialidad.id}` 
              method="POST" 
              id="editar-form" 
              class="needs-validation" 
              novalidate
            )
              .mb-4
                label.form-label.fw-bold(for="nombre") Nombre de la Especialidad
                input.form-control.form-control-lg(
                  type="text" 
                  name="nombre" 
                  id="nombre" 
                  value=especialidad.nombre
                  placeholder="Ej: Cardiología"
                  required
                )
                .invalid-feedback Por favor, ingrese un nombre válido.
                small.text-muted Este nombre se verá reflejado en los perfiles de los médicos.

              .d-grid.gap-2
                button.btn.btn-primary.btn-lg(type="submit")
                  i.bi.bi-check-circle.me-2
                  | Guardar Cambios
                a.btn.btn-link.text-muted(href="/especialidades") Cancelar

  // Validación de Bootstrap para este formulario
  script.
    (function () {
      'use strict'
      var forms = document.querySelectorAll('.needs-validation')
      Array.prototype.slice.call(forms).forEach(function (form) {
        form.addEventListener('submit', function (event) {
          if (!form.checkValidity()) {
            event.preventDefault()
            event.stopPropagation()
          }
          form.classList.add('was-validated')
        }, false)
      })
    })()