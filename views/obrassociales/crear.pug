//- extends ../layout

//- block contenido
//-     .container
//-         h1 Crear Obra Social

//-         if errorMessage
//-             .alert.alert-danger= errorMessage

//-         form(action="/obrasSociales/store" method="post")
//-             .form-group
//-                 label(for="nombre") Nombre
//-                 input.form-control(type="text" name="nombre" id="nombre" required)

//-             .form-group
//-                 label(for="descripcion") Descripción
//-                 textarea.form-control(name="descripcion" id="descripcion" rows="3" required)

//-             .form-group
//-                 label(for="direccion") Dirección
//-                 input.form-control(type="text" name="direccion" id="direccion" required)

//-             button.btn.btn-primary(type="submit") Guardar
//-             a.btn.btn-secondary(href="/obrasSociales") Cancelar


extends ../layout

block contenido
  .container.py-5
    .row.justify-content-center
      .col-md-8.col-lg-6
        //- Encabezado con estilo
        .text-center.mb-4
          .icon-box.bg-primary.bg-opacity-10.text-primary.rounded-circle.d-inline-flex.align-items-center.justify-content-center.mb-3(style="width: 70px; height: 70px;")
            i.fa-solid.fa-hospital-user.fa-2x
          h2.fw-bold.text-dark Nueva Obra Social
          p.text-muted Complete los datos para dar de alta la entidad en el sistema.

        //- Alerta de error con SweetAlert o Bootstrap
        if errorMessage
          .alert.alert-danger.alert-dismissible.fade.show.border-0.shadow-sm.rounded-4(role="alert")
            i.fa-solid.fa-circle-exclamation.me-2
            span= errorMessage
            button.btn-close(type="button" data-bs-dismiss="alert" aria-label="Close")

        //- Card del Formulario
        .card.border-0.shadow-lg.rounded-4
          .card-body.p-4.p-md-5
            form(action="/obrasSociales/store" method="post")
              
              .mb-4
                label.form-label.fw-bold.text-secondary(for="nombre") 
                  i.fa-solid.fa-signature.me-1
                  | Nombre de la Entidad
                input#nombre.form-control.form-control-lg.rounded-3(
                  type="text" 
                  name="nombre" 
                  placeholder="Ej: OSDE, PAMI, Swiss Medical..." 
                  required
                )
                .form-text Ingrese el nombre comercial o razón social.

              .mb-4
                label.form-label.fw-bold.text-secondary(for="direccion") 
                  i.fa-solid.fa-location-dot.me-1
                  | Casa Central / Dirección
                input#direccion.form-control.rounded-3(
                  type="text" 
                  name="direccion" 
                  placeholder="Ej: Av. Libertador 1234, CABA" 
                  required
                )

              .mb-4
                label.form-label.fw-bold.text-secondary(for="descripcion") 
                  i.fa-solid.fa-align-left.me-1
                  | Observaciones o Descripción
                textarea#descripcion.form-control.rounded-3(
                  name="descripcion" 
                  rows="3" 
                  placeholder="Detalles adicionales, planes cubiertos o contactos..." 
                  style="resize: none;"
                  required
                )

              hr.my-4.text-muted.opacity-25

              .d-grid.gap-2.d-md-flex.justify-content-md-end
                a.btn.btn-light.btn-lg.px-4.rounded-pill(href="/obrasSociales") 
                  | Cancelar
                button.btn.btn-primary.btn-lg.px-5.rounded-pill.shadow-sm(type="submit") 
                  i.fa-solid.fa-floppy-disk.me-2
                  | Guardar Obra Social


  script.
    // Opcional: Validación simple de Bootstrap para el cliente
    (() => {
      'use strict'
      const forms = document.querySelectorAll('.needs-validation')
      Array.from(forms).forEach(form => {
        form.addEventListener('submit', event => {
          if (!form.checkValidity()) {
            event.preventDefault()
            event.stopPropagation()
          }
          form.classList.add('was-validated')
        }, false)
      })
    })()